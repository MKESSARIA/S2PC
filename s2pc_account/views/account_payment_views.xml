<?xml version="1.0"?>
<odoo>
  <data>
	<record id="account_payment_view_form_inherit" model="ir.ui.view">
	  <field name="name">account.payment.view.form.inherit</field>
	  <field name="model">account.payment</field>
	  <field name="inherit_id" ref="account.view_account_payment_form"/>
	  <field name="arch" type="xml">
		<xpath expr="//button[@name='action_post']" position="attributes">
		  <attribute name="groups">s2pc_account.group_confirm_payment</attribute>
		</xpath>
		<xpath expr="//button[@name='action_post']" position="before">
		  <field name="need_validation" invisible="1"/>
		  <button name="action_need_validation" string="Submit to validation" type="object" class="oe_highlight"
				  attrs="{'invisible': ['|', ('state', '!=', 'draft'), ('need_validation', '=', True)]}"/>
		</xpath>
		<xpath expr="//widget[last()]" position="after">
		  <widget name="web_ribbon" title="NÃ©cessite une validation" bg_color="bg-info"
				attrs="{'invisible': ['|', ('state', '!=', 'draft'), ('need_validation', '=', False)]}"
				tooltip="En attente de validation du responsable"/>
		</xpath>
	  </field>
	</record>
  </data>
</odoo>